{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":";;;;;;;;AAAA,kBAAkB,GAClB;;;;;;;CAOC,GAED;AAAA;AAAA;;AAUO,MAAM,MAAM,gKAAM;AAClB,MAAM,WAAW,gKAAM;AACvB,MAAM,aAAa,IAAA,2MAAiB"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/StatusBadge.tsx"],"sourcesContent":["\"use client\";\n\nconst statusColors: Record<string, string> = {\n  // Ideas\n  draft: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\n  approved: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n  rejected: \"bg-red-500/20 text-red-400 border-red-500/30\",\n  implemented: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\",\n  // Specs\n  review: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n  changes_requested: \"bg-red-500/20 text-red-400 border-red-500/30\",\n  // Tasks\n  backlog: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\n  in_progress: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n  testing: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n  done: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\",\n  deployed: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n};\n\nconst statusLabels: Record<string, string> = {\n  draft: \"Draft\",\n  approved: \"Approved\",\n  rejected: \"Rejected\",\n  implemented: \"Implemented\",\n  review: \"Review\",\n  changes_requested: \"Changes Requested\",\n  backlog: \"Backlog\",\n  in_progress: \"In Progress\",\n  testing: \"Testing\",\n  done: \"Done\",\n  deployed: \"Deployed\",\n};\n\nexport default function StatusBadge({ status }: { status: string }) {\n  const colors = statusColors[status] || \"bg-gray-500/20 text-gray-400 border-gray-500/30\";\n  const label = statusLabels[status] || status;\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${colors}`}\n    >\n      {label}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,eAAuC;IAC3C,QAAQ;IACR,OAAO;IACP,UAAU;IACV,UAAU;IACV,aAAa;IACb,QAAQ;IACR,QAAQ;IACR,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,aAAa;IACb,SAAS;IACT,MAAM;IACN,UAAU;AACZ;AAEA,MAAM,eAAuC;IAC3C,OAAO;IACP,UAAU;IACV,UAAU;IACV,aAAa;IACb,QAAQ;IACR,mBAAmB;IACnB,SAAS;IACT,aAAa;IACb,SAAS;IACT,MAAM;IACN,UAAU;AACZ;AAEe,SAAS,YAAY,EAAE,MAAM,EAAsB;IAChE,MAAM,SAAS,YAAY,CAAC,OAAO,IAAI;IACvC,MAAM,QAAQ,YAAY,CAAC,OAAO,IAAI;IACtC,qBACE,8OAAC;QACC,WAAW,CAAC,+EAA+E,EAAE,QAAQ;kBAEpG;;;;;;AAGP"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/specs/SpecCard.tsx"],"sourcesContent":["\"use client\";\n\nimport StatusBadge from \"../shared/StatusBadge\";\nimport AssigneeAvatar from \"../shared/AssigneeAvatar\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\ninterface Spec {\n  _id: Id<\"specs\">;\n  title: string;\n  status: string;\n  version: number;\n  createdBy: string;\n  createdAt: number;\n}\n\nexport default function SpecCard({\n  spec,\n  ideaTitle,\n  onClick,\n}: {\n  spec: Spec;\n  ideaTitle?: string;\n  onClick: () => void;\n}) {\n  return (\n    <div\n      onClick={onClick}\n      className=\"bg-gray-900 border border-gray-800 rounded-xl p-4 cursor-pointer hover:border-gray-700 hover:scale-[1.02] transition-all duration-200\"\n    >\n      <div className=\"flex items-start justify-between mb-2\">\n        <h3 className=\"text-sm font-semibold text-gray-100 line-clamp-1 flex-1\">\n          {spec.title}\n        </h3>\n        <span className=\"text-xs text-gray-500 ml-2 shrink-0\">\n          v{spec.version}\n        </span>\n      </div>\n      {ideaTitle && (\n        <p className=\"text-xs text-gray-500 mb-2 flex items-center gap-1\">\n          <span>üí°</span>\n          <span className=\"truncate\">{ideaTitle}</span>\n        </p>\n      )}\n      <div className=\"flex items-center justify-between\">\n        <StatusBadge status={spec.status} />\n        <AssigneeAvatar name={spec.createdBy} size=\"sm\" />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAee,SAAS,SAAS,EAC/B,IAAI,EACJ,SAAS,EACT,OAAO,EAKR;IACC,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX,KAAK,KAAK;;;;;;kCAEb,8OAAC;wBAAK,WAAU;;4BAAsC;4BAClD,KAAK,OAAO;;;;;;;;;;;;;YAGjB,2BACC,8OAAC;gBAAE,WAAU;;kCACX,8OAAC;kCAAK;;;;;;kCACN,8OAAC;wBAAK,WAAU;kCAAY;;;;;;;;;;;;0BAGhC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sJAAW;wBAAC,QAAQ,KAAK,MAAM;;;;;;kCAChC,8OAAC,yJAAc;wBAAC,MAAM,KAAK,SAAS;wBAAE,MAAK;;;;;;;;;;;;;;;;;;AAInD"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/specs/SpecForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { useActiveUser } from \"@/lib/useActiveUser\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\ninterface SpecFormProps {\n  spec?: {\n    _id: Id<\"specs\">;\n    ideaId: Id<\"ideas\">;\n    title: string;\n    content: string;\n  };\n  preselectedIdeaId?: Id<\"ideas\">;\n  onClose: () => void;\n}\n\nexport default function SpecForm({\n  spec,\n  preselectedIdeaId,\n  onClose,\n}: SpecFormProps) {\n  const [activeUser] = useActiveUser();\n  const ideas = useQuery(api.ideas.list);\n  const [ideaId, setIdeaId] = useState<string>(\n    spec?.ideaId ?? preselectedIdeaId ?? \"\"\n  );\n  const [title, setTitle] = useState(spec?.title ?? \"\");\n  const [content, setContent] = useState(spec?.content ?? \"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const createSpec = useMutation(api.specs.create);\n  const updateSpec = useMutation(api.specs.update);\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    if (!ideaId) return;\n    setSubmitting(true);\n\n    try {\n      if (spec) {\n        await updateSpec({\n          id: spec._id,\n          title,\n          content,\n          actor: activeUser,\n        });\n      } else {\n        await createSpec({\n          ideaId: ideaId as Id<\"ideas\">,\n          title,\n          content,\n          createdBy: activeUser,\n        });\n      }\n      onClose();\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Linked Idea\n        </label>\n        <select\n          value={ideaId}\n          onChange={(e) => setIdeaId(e.target.value)}\n          required\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500\"\n        >\n          <option value=\"\">Select an idea...</option>\n          {ideas?.map((idea: any) => (\n            <option key={idea._id} value={idea._id}>\n              {idea.title}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Title\n        </label>\n        <input\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors\"\n          placeholder=\"Spec title\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Content (Markdown)\n        </label>\n        <textarea\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n          required\n          rows={10}\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 font-mono focus:outline-none focus:border-blue-500 transition-colors resize-none\"\n          placeholder=\"Write your spec in markdown...\"\n        />\n      </div>\n      <div className=\"flex justify-end gap-3 pt-2\">\n        <button\n          type=\"button\"\n          onClick={onClose}\n          className=\"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          disabled={submitting || !ideaId}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white text-sm font-medium rounded-lg transition-colors\"\n        >\n          {submitting ? \"Saving...\" : spec ? \"Update\" : \"Create Spec\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAmBe,SAAS,SAAS,EAC/B,IAAI,EACJ,iBAAiB,EACjB,OAAO,EACO;IACd,MAAM,CAAC,WAAW,GAAG,IAAA,4IAAa;IAClC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAClC,MAAM,UAAU,qBAAqB;IAEvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,MAAM,SAAS;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,MAAM,WAAW;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAC/C,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAE/C,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ;QACb,cAAc;QAEd,IAAI;YACF,IAAI,MAAM;gBACR,MAAM,WAAW;oBACf,IAAI,KAAK,GAAG;oBACZ;oBACA;oBACA,OAAO;gBACT;YACF,OAAO;gBACL,MAAM,WAAW;oBACf,QAAQ;oBACR;oBACA;oBACA,WAAW;gBACb;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,QAAQ;wBACR,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,OAAO,IAAI,CAAC,qBACX,8OAAC;oCAAsB,OAAO,KAAK,GAAG;8CACnC,KAAK,KAAK;mCADA,KAAK,GAAG;;;;;;;;;;;;;;;;;0BAM3B,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,QAAQ;wBACR,MAAM;wBACN,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBACC,MAAK;wBACL,UAAU,cAAc,CAAC;wBACzB,WAAU;kCAET,aAAa,cAAc,OAAO,WAAW;;;;;;;;;;;;;;;;;;AAKxD"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/ActivityFeed.tsx"],"sourcesContent":["\"use client\";\n\nimport AssigneeAvatar from \"./AssigneeAvatar\";\n\ninterface ActivityEntry {\n  _id: string;\n  entityType: string;\n  entityId: string;\n  action: string;\n  details?: string;\n  actor: string;\n  createdAt: number;\n}\n\nfunction timeAgo(timestamp: number): string {\n  const seconds = Math.floor((Date.now() - timestamp) / 1000);\n  if (seconds < 60) return \"just now\";\n  const minutes = Math.floor(seconds / 60);\n  if (minutes < 60) return `${minutes}m ago`;\n  const hours = Math.floor(minutes / 60);\n  if (hours < 24) return `${hours}h ago`;\n  const days = Math.floor(hours / 24);\n  return `${days}d ago`;\n}\n\nconst actionIcons: Record<string, string> = {\n  created: \"‚ú®\",\n  updated: \"‚úèÔ∏è\",\n  status_changed: \"üîÑ\",\n  deleted: \"üóëÔ∏è\",\n  assigned: \"üë§\",\n};\n\nexport default function ActivityFeed({\n  activities,\n}: {\n  activities: ActivityEntry[];\n}) {\n  if (activities.length === 0) {\n    return (\n      <p className=\"text-sm text-gray-500 py-4 text-center\">\n        No activity yet\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {activities.map((entry) => (\n        <div key={entry._id} className=\"flex items-start gap-3\">\n          <AssigneeAvatar name={entry.actor} size=\"sm\" />\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs\">\n                {actionIcons[entry.action] || \"üìå\"}\n              </span>\n              <span className=\"text-sm text-gray-300 font-medium\">\n                {entry.actor}\n              </span>\n              <span className=\"text-xs text-gray-500\">\n                {timeAgo(entry.createdAt)}\n              </span>\n            </div>\n            {entry.details && (\n              <p className=\"text-xs text-gray-400 mt-0.5 truncate\">\n                {entry.details}\n              </p>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAcA,SAAS,QAAQ,SAAiB;IAChC,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,SAAS,IAAI;IACtD,IAAI,UAAU,IAAI,OAAO;IACzB,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,KAAK,CAAC;IAC1C,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,IAAI,QAAQ,IAAI,OAAO,GAAG,MAAM,KAAK,CAAC;IACtC,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;IAChC,OAAO,GAAG,KAAK,KAAK,CAAC;AACvB;AAEA,MAAM,cAAsC;IAC1C,SAAS;IACT,SAAS;IACT,gBAAgB;IAChB,SAAS;IACT,UAAU;AACZ;AAEe,SAAS,aAAa,EACnC,UAAU,EAGX;IACC,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,qBACE,8OAAC;YAAE,WAAU;sBAAyC;;;;;;IAI1D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,WAAW,GAAG,CAAC,CAAC,sBACf,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC,yJAAc;wBAAC,MAAM,MAAM,KAAK;wBAAE,MAAK;;;;;;kCACxC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,WAAW,CAAC,MAAM,MAAM,CAAC,IAAI;;;;;;kDAEhC,8OAAC;wCAAK,WAAU;kDACb,MAAM,KAAK;;;;;;kDAEd,8OAAC;wCAAK,WAAU;kDACb,QAAQ,MAAM,SAAS;;;;;;;;;;;;4BAG3B,MAAM,OAAO,kBACZ,8OAAC;gCAAE,WAAU;0CACV,MAAM,OAAO;;;;;;;;;;;;;eAhBZ,MAAM,GAAG;;;;;;;;;;AAwB3B"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/FileUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\n\nexport default function FileUpload({\n  entityType,\n  entityId,\n  uploadedBy,\n  onUploaded,\n}: {\n  entityType: \"idea\" | \"spec\" | \"task\";\n  entityId: string;\n  uploadedBy: \"Kar\" | \"Joma\";\n  onUploaded?: () => void;\n}) {\n  const [uploading, setUploading] = useState(false);\n  const fileRef = useRef<HTMLInputElement>(null);\n  const generateUploadUrl = useMutation(api.files.generateUploadUrl);\n  const saveFile = useMutation(api.files.saveFile);\n\n  async function handleUpload(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploading(true);\n    try {\n      const uploadUrl = await generateUploadUrl();\n      const result = await fetch(uploadUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": file.type },\n        body: file,\n      });\n      const { storageId } = await result.json();\n      await saveFile({\n        entityType,\n        entityId,\n        name: file.name,\n        storageId,\n        contentType: file.type,\n        size: file.size,\n        uploadedBy,\n      });\n      onUploaded?.();\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n    } finally {\n      setUploading(false);\n      if (fileRef.current) fileRef.current.value = \"\";\n    }\n  }\n\n  return (\n    <div>\n      <input\n        ref={fileRef}\n        type=\"file\"\n        onChange={handleUpload}\n        className=\"hidden\"\n        id={`file-upload-${entityId}`}\n      />\n      <label\n        htmlFor={`file-upload-${entityId}`}\n        className={`inline-flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg border border-gray-700 text-gray-400 hover:text-gray-200 hover:border-gray-600 cursor-pointer transition-colors ${\n          uploading ? \"opacity-50 cursor-wait\" : \"\"\n        }`}\n      >\n        <svg\n          className=\"w-4 h-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n        {uploading ? \"Uploading...\" : \"Attach File\"}\n      </label>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMe,SAAS,WAAW,EACjC,UAAU,EACV,QAAQ,EACR,UAAU,EACV,UAAU,EAMX;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,UAAU,IAAA,+MAAM,EAAmB;IACzC,MAAM,oBAAoB,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,iBAAiB;IACjE,MAAM,WAAW,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,QAAQ;IAE/C,eAAe,aAAa,CAAsC;QAChE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,aAAa;QACb,IAAI;YACF,MAAM,YAAY,MAAM;YACxB,MAAM,SAAS,MAAM,MAAM,WAAW;gBACpC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB,KAAK,IAAI;gBAAC;gBACrC,MAAM;YACR;YACA,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,OAAO,IAAI;YACvC,MAAM,SAAS;gBACb;gBACA;gBACA,MAAM,KAAK,IAAI;gBACf;gBACA,aAAa,KAAK,IAAI;gBACtB,MAAM,KAAK,IAAI;gBACf;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC,SAAU;YACR,aAAa;YACb,IAAI,QAAQ,OAAO,EAAE,QAAQ,OAAO,CAAC,KAAK,GAAG;QAC/C;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBACC,KAAK;gBACL,MAAK;gBACL,UAAU;gBACV,WAAU;gBACV,IAAI,CAAC,YAAY,EAAE,UAAU;;;;;;0BAE/B,8OAAC;gBACC,SAAS,CAAC,YAAY,EAAE,UAAU;gBAClC,WAAW,CAAC,0LAA0L,EACpM,YAAY,2BAA2B,IACvC;;kCAEF,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,SAAQ;wBACR,QAAO;kCAEP,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;oBAGL,YAAY,iBAAiB;;;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/FileList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\ninterface FileEntry {\n  _id: Id<\"files\">;\n  name: string;\n  storageId: Id<\"_storage\">;\n  contentType: string;\n  size: number;\n  uploadedBy: string;\n  createdAt: number;\n}\n\nfunction formatSize(bytes: number): string {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n}\n\nfunction FileItem({ file }: { file: FileEntry }) {\n  const url = useQuery(api.files.getUrl, { storageId: file.storageId });\n  const removeFile = useMutation(api.files.remove);\n\n  return (\n    <div className=\"flex items-center gap-3 p-2 rounded-lg bg-gray-800/50 group\">\n      <div className=\"w-8 h-8 rounded bg-gray-700 flex items-center justify-center text-xs text-gray-400\">\n        üìÑ\n      </div>\n      <div className=\"flex-1 min-w-0\">\n        {url ? (\n          <a\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-sm text-blue-400 hover:text-blue-300 truncate block\"\n          >\n            {file.name}\n          </a>\n        ) : (\n          <span className=\"text-sm text-gray-300 truncate block\">\n            {file.name}\n          </span>\n        )}\n        <span className=\"text-xs text-gray-500\">{formatSize(file.size)}</span>\n      </div>\n      <button\n        onClick={() => removeFile({ id: file._id })}\n        className=\"opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400 transition-all p-1\"\n      >\n        <svg\n          className=\"w-4 h-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n\nexport default function FileList({\n  entityType,\n  entityId,\n}: {\n  entityType: \"idea\" | \"spec\" | \"task\";\n  entityId: string;\n}) {\n  const files = useQuery(api.files.listByEntity, { entityType, entityId });\n\n  if (!files || files.length === 0) return null;\n\n  return (\n    <div className=\"space-y-2\">\n      <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">\n        Files\n      </h4>\n      {files.map((file: any) => (\n        <FileItem key={file._id} file={file as FileEntry} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAgBA,SAAS,WAAW,KAAa;IAC/B,IAAI,QAAQ,MAAM,OAAO,GAAG,MAAM,EAAE,CAAC;IACrC,IAAI,QAAQ,OAAO,MAAM,OAAO,GAAG,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;IACjE,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;AACnD;AAEA,SAAS,SAAS,EAAE,IAAI,EAAuB;IAC7C,MAAM,MAAM,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM,EAAE;QAAE,WAAW,KAAK,SAAS;IAAC;IACnE,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAqF;;;;;;0BAGpG,8OAAC;gBAAI,WAAU;;oBACZ,oBACC,8OAAC;wBACC,MAAM;wBACN,QAAO;wBACP,KAAI;wBACJ,WAAU;kCAET,KAAK,IAAI;;;;;6CAGZ,8OAAC;wBAAK,WAAU;kCACb,KAAK,IAAI;;;;;;kCAGd,8OAAC;wBAAK,WAAU;kCAAyB,WAAW,KAAK,IAAI;;;;;;;;;;;;0BAE/D,8OAAC;gBACC,SAAS,IAAM,WAAW;wBAAE,IAAI,KAAK,GAAG;oBAAC;gBACzC,WAAU;0BAEV,cAAA,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,SAAQ;oBACR,QAAO;8BAEP,cAAA,8OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;;;;;;;AAMd;AAEe,SAAS,SAAS,EAC/B,UAAU,EACV,QAAQ,EAIT;IACC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,YAAY,EAAE;QAAE;QAAY;IAAS;IAEtE,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG,OAAO;IAEzC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6D;;;;;;YAG1E,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;oBAAwB,MAAM;mBAAhB,KAAK,GAAG;;;;;;;;;;;AAI/B"}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/MarkdownRenderer.tsx"],"sourcesContent":["\"use client\";\n\nfunction parseLine(line: string): React.ReactNode {\n  // Headers\n  if (line.startsWith(\"### \"))\n    return (\n      <h3 className=\"text-base font-semibold text-gray-200 mt-3 mb-1\">\n        {parseInline(line.slice(4))}\n      </h3>\n    );\n  if (line.startsWith(\"## \"))\n    return (\n      <h2 className=\"text-lg font-semibold text-gray-100 mt-4 mb-1\">\n        {parseInline(line.slice(3))}\n      </h2>\n    );\n  if (line.startsWith(\"# \"))\n    return (\n      <h1 className=\"text-xl font-bold text-gray-100 mt-4 mb-2\">\n        {parseInline(line.slice(2))}\n      </h1>\n    );\n\n  // Unordered list\n  if (line.startsWith(\"- \") || line.startsWith(\"* \"))\n    return (\n      <li className=\"text-sm text-gray-300 ml-4 list-disc\">\n        {parseInline(line.slice(2))}\n      </li>\n    );\n\n  // Empty line\n  if (line.trim() === \"\") return <br />;\n\n  // Paragraph\n  return <p className=\"text-sm text-gray-300 leading-relaxed\">{parseInline(line)}</p>;\n}\n\nfunction parseInline(text: string): React.ReactNode {\n  const parts: React.ReactNode[] = [];\n  let remaining = text;\n  let keyIndex = 0;\n\n  while (remaining.length > 0) {\n    // Bold\n    const boldMatch = remaining.match(/\\*\\*(.+?)\\*\\*/);\n    // Code\n    const codeMatch = remaining.match(/`(.+?)`/);\n\n    const matches = [\n      boldMatch ? { index: boldMatch.index!, match: boldMatch, type: \"bold\" as const } : null,\n      codeMatch ? { index: codeMatch.index!, match: codeMatch, type: \"code\" as const } : null,\n    ]\n      .filter(Boolean)\n      .sort((a, b) => a!.index - b!.index);\n\n    if (matches.length === 0) {\n      parts.push(remaining);\n      break;\n    }\n\n    const first = matches[0]!;\n    if (first.index > 0) {\n      parts.push(remaining.slice(0, first.index));\n    }\n\n    if (first.type === \"bold\") {\n      parts.push(\n        <strong key={keyIndex++} className=\"font-semibold text-gray-200\">\n          {first.match[1]}\n        </strong>\n      );\n    } else {\n      parts.push(\n        <code\n          key={keyIndex++}\n          className=\"px-1.5 py-0.5 bg-gray-800 rounded text-xs text-emerald-400 font-mono\"\n        >\n          {first.match[1]}\n        </code>\n      );\n    }\n\n    remaining = remaining.slice(first.index + first.match[0].length);\n  }\n\n  return parts;\n}\n\nexport default function MarkdownRenderer({ content }: { content: string }) {\n  const lines = content.split(\"\\n\");\n\n  return (\n    <div className=\"space-y-1\">\n      {lines.map((line, i) => (\n        <div key={i}>{parseLine(line)}</div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,SAAS,UAAU,IAAY;IAC7B,UAAU;IACV,IAAI,KAAK,UAAU,CAAC,SAClB,qBACE,8OAAC;QAAG,WAAU;kBACX,YAAY,KAAK,KAAK,CAAC;;;;;;IAG9B,IAAI,KAAK,UAAU,CAAC,QAClB,qBACE,8OAAC;QAAG,WAAU;kBACX,YAAY,KAAK,KAAK,CAAC;;;;;;IAG9B,IAAI,KAAK,UAAU,CAAC,OAClB,qBACE,8OAAC;QAAG,WAAU;kBACX,YAAY,KAAK,KAAK,CAAC;;;;;;IAI9B,iBAAiB;IACjB,IAAI,KAAK,UAAU,CAAC,SAAS,KAAK,UAAU,CAAC,OAC3C,qBACE,8OAAC;QAAG,WAAU;kBACX,YAAY,KAAK,KAAK,CAAC;;;;;;IAI9B,aAAa;IACb,IAAI,KAAK,IAAI,OAAO,IAAI,qBAAO,8OAAC;;;;;IAEhC,YAAY;IACZ,qBAAO,8OAAC;QAAE,WAAU;kBAAyC,YAAY;;;;;;AAC3E;AAEA,SAAS,YAAY,IAAY;IAC/B,MAAM,QAA2B,EAAE;IACnC,IAAI,YAAY;IAChB,IAAI,WAAW;IAEf,MAAO,UAAU,MAAM,GAAG,EAAG;QAC3B,OAAO;QACP,MAAM,YAAY,UAAU,KAAK,CAAC;QAClC,OAAO;QACP,MAAM,YAAY,UAAU,KAAK,CAAC;QAElC,MAAM,UAAU;YACd,YAAY;gBAAE,OAAO,UAAU,KAAK;gBAAG,OAAO;gBAAW,MAAM;YAAgB,IAAI;YACnF,YAAY;gBAAE,OAAO,UAAU,KAAK;gBAAG,OAAO;gBAAW,MAAM;YAAgB,IAAI;SACpF,CACE,MAAM,CAAC,SACP,IAAI,CAAC,CAAC,GAAG,IAAM,EAAG,KAAK,GAAG,EAAG,KAAK;QAErC,IAAI,QAAQ,MAAM,KAAK,GAAG;YACxB,MAAM,IAAI,CAAC;YACX;QACF;QAEA,MAAM,QAAQ,OAAO,CAAC,EAAE;QACxB,IAAI,MAAM,KAAK,GAAG,GAAG;YACnB,MAAM,IAAI,CAAC,UAAU,KAAK,CAAC,GAAG,MAAM,KAAK;QAC3C;QAEA,IAAI,MAAM,IAAI,KAAK,QAAQ;YACzB,MAAM,IAAI,eACR,8OAAC;gBAAwB,WAAU;0BAChC,MAAM,KAAK,CAAC,EAAE;eADJ;;;;;QAIjB,OAAO;YACL,MAAM,IAAI,eACR,8OAAC;gBAEC,WAAU;0BAET,MAAM,KAAK,CAAC,EAAE;eAHV;;;;;QAMX;QAEA,YAAY,UAAU,KAAK,CAAC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,EAAE,CAAC,MAAM;IACjE;IAEA,OAAO;AACT;AAEe,SAAS,iBAAiB,EAAE,OAAO,EAAuB;IACvE,MAAM,QAAQ,QAAQ,KAAK,CAAC;IAE5B,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,8OAAC;0BAAa,UAAU;eAAd;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 872, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/specs/SpecDetail.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\nimport StatusBadge from \"../shared/StatusBadge\";\nimport AssigneeAvatar from \"../shared/AssigneeAvatar\";\nimport ActivityFeed from \"../shared/ActivityFeed\";\nimport FileUpload from \"../shared/FileUpload\";\nimport FileList from \"../shared/FileList\";\nimport MarkdownRenderer from \"../shared/MarkdownRenderer\";\nimport { useActiveUser } from \"@/lib/useActiveUser\";\n\nconst SPEC_STATUSES = [\"draft\", \"review\", \"approved\", \"changes_requested\"] as const;\n\nexport default function SpecDetail({\n  specId,\n  onClose,\n  onEdit,\n}: {\n  specId: Id<\"specs\">;\n  onClose: () => void;\n  onEdit: () => void;\n}) {\n  const spec = useQuery(api.specs.getById, { id: specId });\n  const idea = useQuery(\n    api.ideas.getById,\n    spec ? { id: spec.ideaId } : \"skip\"\n  );\n  const tasks = useQuery(\n    api.tasks.listBySpec,\n    spec ? { specId: spec._id } : \"skip\"\n  );\n  const activity = useQuery(api.activity.listByEntity, {\n    entityType: \"spec\",\n    entityId: specId,\n  });\n  const updateStatus = useMutation(api.specs.updateStatus);\n  const removeSpec = useMutation(api.specs.remove);\n  const [activeUser] = useActiveUser();\n\n  if (!spec) return null;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h2 className=\"text-xl font-bold text-gray-100\">{spec.title}</h2>\n            {idea && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                üí° Linked to: {idea.title}\n              </p>\n            )}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={onEdit}\n              className=\"px-3 py-1.5 text-xs font-medium text-gray-400 hover:text-gray-200 border border-gray-700 hover:border-gray-600 rounded-lg transition-colors\"\n            >\n              Edit\n            </button>\n            <button\n              onClick={async () => {\n                await removeSpec({ id: specId });\n                onClose();\n              }}\n              className=\"px-3 py-1.5 text-xs font-medium text-red-400 hover:text-red-300 border border-red-900/50 hover:border-red-800 rounded-lg transition-colors\"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3 mt-2\">\n          <StatusBadge status={spec.status} />\n          <span className=\"text-xs text-gray-500\">v{spec.version}</span>\n          <AssigneeAvatar name={spec.createdBy} size=\"sm\" />\n          <span className=\"text-xs text-gray-500\">by {spec.createdBy}</span>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div>\n        <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n          Content\n        </h4>\n        <div className=\"bg-gray-800/50 rounded-lg p-4 border border-gray-800\">\n          <MarkdownRenderer content={spec.content} />\n        </div>\n      </div>\n\n      {/* Status Actions */}\n      <div>\n        <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n          Change Status\n        </h4>\n        <div className=\"flex flex-wrap gap-2\">\n          {SPEC_STATUSES.filter((s) => s !== spec.status).map((status) => (\n            <button\n              key={status}\n              onClick={() =>\n                updateStatus({ id: specId, status, actor: activeUser })\n              }\n              className=\"px-3 py-1.5 text-xs font-medium border border-gray-700 hover:border-gray-600 rounded-lg text-gray-400 hover:text-gray-200 transition-colors capitalize\"\n            >\n              {status.replace(\"_\", \" \")}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Linked Tasks */}\n      {tasks && tasks.length > 0 && (\n        <div>\n          <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n            Linked Tasks\n          </h4>\n          <div className=\"space-y-2\">\n            {tasks.map((task: any) => (\n              <div\n                key={task._id}\n                className=\"flex items-center gap-2 p-2 bg-gray-800/50 rounded-lg\"\n              >\n                <span className=\"text-sm text-gray-300\">{task.title}</span>\n                <StatusBadge status={task.status} />\n                <AssigneeAvatar name={task.assignee} size=\"sm\" />\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Files */}\n      <FileList entityType=\"spec\" entityId={specId} />\n      <FileUpload\n        entityType=\"spec\"\n        entityId={specId}\n        uploadedBy={activeUser}\n      />\n\n      {/* Activity */}\n      {activity && (\n        <div>\n          <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n            Activity\n          </h4>\n          <ActivityFeed activities={activity} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1219, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useCallback } from \"react\";\n\nexport default function Modal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"md\",\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n}) {\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    },\n    [onClose]\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, handleKeyDown]);\n\n  if (!isOpen) return null;\n\n  const sizeClasses = {\n    sm: \"max-w-md\",\n    md: \"max-w-lg\",\n    lg: \"max-w-2xl\",\n    xl: \"max-w-4xl\",\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      <div\n        className={`relative ${sizeClasses[size]} w-full mx-4 bg-gray-900 border border-gray-800 rounded-xl shadow-2xl max-h-[85vh] flex flex-col`}\n      >\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-800\">\n          <h2 className=\"text-lg font-semibold text-gray-100\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-200 transition-colors p-1\"\n          >\n            <svg\n              className=\"w-5 h-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"px-6 py-4 overflow-y-auto\">{children}</div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,MAAM,EAC5B,MAAM,EACN,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,IAAI,EAOZ;IACC,MAAM,gBAAgB,IAAA,oNAAW,EAC/B,CAAC;QACC,IAAI,EAAE,GAAG,KAAK,UAAU;IAC1B,GACA;QAAC;KAAQ;IAGX,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;QAAQ;KAAc;IAE1B,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAEX,8OAAC;gBACC,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC,gGAAgG,CAAC;;kCAE1I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;0CACrD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAKV,8OAAC;wBAAI,WAAU;kCAA6B;;;;;;;;;;;;;;;;;;AAIpD"}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/EmptyState.tsx"],"sourcesContent":["\"use client\";\n\nexport default function EmptyState({\n  icon,\n  title,\n  description,\n  actionLabel,\n  onAction,\n}: {\n  icon: React.ReactNode;\n  title: string;\n  description: string;\n  actionLabel?: string;\n  onAction?: () => void;\n}) {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 px-4\">\n      <div className=\"text-gray-600 mb-4\">{icon}</div>\n      <h3 className=\"text-lg font-medium text-gray-300 mb-1\">{title}</h3>\n      <p className=\"text-sm text-gray-500 mb-6 text-center max-w-sm\">\n        {description}\n      </p>\n      {actionLabel && onAction && (\n        <button\n          onClick={onAction}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors\"\n        >\n          {actionLabel}\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS,WAAW,EACjC,IAAI,EACJ,KAAK,EACL,WAAW,EACX,WAAW,EACX,QAAQ,EAOT;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAsB;;;;;;0BACrC,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;0BACxD,8OAAC;gBAAE,WAAU;0BACV;;;;;;YAEF,eAAe,0BACd,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAET;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 1393, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/app/specs/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\nimport SpecCard from \"@/components/specs/SpecCard\";\nimport SpecForm from \"@/components/specs/SpecForm\";\nimport SpecDetail from \"@/components/specs/SpecDetail\";\nimport Modal from \"@/components/shared/Modal\";\nimport EmptyState from \"@/components/shared/EmptyState\";\n\ntype FilterStatus = \"all\" | \"draft\" | \"review\" | \"approved\" | \"changes_requested\";\n\nexport default function SpecsPage() {\n  const specs = useQuery(api.specs.list);\n  const ideas = useQuery(api.ideas.list);\n  const [showCreate, setShowCreate] = useState(false);\n  const [selectedId, setSelectedId] = useState<Id<\"specs\"> | null>(null);\n  const [editingId, setEditingId] = useState<Id<\"specs\"> | null>(null);\n  const [filter, setFilter] = useState<FilterStatus>(\"all\");\n\n  const filteredSpecs =\n    specs?.filter((s: { status: string }) => (filter === \"all\" ? true : s.status === filter)) ?? [];\n\n  const ideaMap = new Map<string, string>(ideas?.map((i: any) => [i._id, i.title] as [string, string]) ?? []);\n\n  const editingSpec = specs?.find((s: { _id: string }) => s._id === editingId);\n\n  return (\n    <div className=\"p-6 lg:p-8 max-w-7xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-100\">üìã Specs</h1>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Technical specifications and requirements\n          </p>\n        </div>\n        <button\n          onClick={() => setShowCreate(true)}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors\"\n        >\n          + New Spec\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-2\">\n        {(\n          [\"all\", \"draft\", \"review\", \"approved\", \"changes_requested\"] as const\n        ).map((status) => (\n          <button\n            key={status}\n            onClick={() => setFilter(status)}\n            className={`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors capitalize ${\n              filter === status\n                ? \"bg-blue-600/20 text-blue-400 border border-blue-500/30\"\n                : \"text-gray-400 hover:text-gray-200 border border-gray-800 hover:border-gray-700\"\n            }`}\n          >\n            {status.replace(\"_\", \" \")}\n          </button>\n        ))}\n      </div>\n\n      {/* Grid */}\n      {!specs ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {[...Array(6)].map((_, i) => (\n            <div\n              key={i}\n              className=\"h-32 bg-gray-900/50 rounded-xl animate-pulse\"\n            />\n          ))}\n        </div>\n      ) : filteredSpecs.length === 0 ? (\n        <EmptyState\n          icon={<span className=\"text-5xl\">üìã</span>}\n          title=\"No specs yet\"\n          description=\"Create specs to document your ideas in detail\"\n          actionLabel=\"Create First Spec\"\n          onAction={() => setShowCreate(true)}\n        />\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredSpecs.map((spec: any) => (\n            <SpecCard\n              key={spec._id}\n              spec={spec}\n              ideaTitle={ideaMap.get(spec.ideaId) as string | undefined}\n              onClick={() => setSelectedId(spec._id)}\n            />\n          ))}\n        </div>\n      )}\n\n      {/* Create Modal */}\n      <Modal\n        isOpen={showCreate}\n        onClose={() => setShowCreate(false)}\n        title=\"New Spec\"\n        size=\"lg\"\n      >\n        <SpecForm onClose={() => setShowCreate(false)} />\n      </Modal>\n\n      {/* Detail Modal */}\n      <Modal\n        isOpen={selectedId !== null}\n        onClose={() => setSelectedId(null)}\n        title=\"Spec Details\"\n        size=\"xl\"\n      >\n        {selectedId && (\n          <SpecDetail\n            specId={selectedId}\n            onClose={() => setSelectedId(null)}\n            onEdit={() => {\n              setEditingId(selectedId);\n              setSelectedId(null);\n            }}\n          />\n        )}\n      </Modal>\n\n      {/* Edit Modal */}\n      <Modal\n        isOpen={editingId !== null}\n        onClose={() => setEditingId(null)}\n        title=\"Edit Spec\"\n        size=\"lg\"\n      >\n        {editingId && editingSpec && (\n          <SpecForm\n            spec={editingSpec}\n            onClose={() => setEditingId(null)}\n          />\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAce,SAAS;IACtB,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IACrC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAqB;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAqB;IAC/D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAe;IAEnD,MAAM,gBACJ,OAAO,OAAO,CAAC,IAA2B,WAAW,QAAQ,OAAO,EAAE,MAAM,KAAK,WAAY,EAAE;IAEjG,MAAM,UAAU,IAAI,IAAoB,OAAO,IAAI,CAAC,IAAW;YAAC,EAAE,GAAG;YAAE,EAAE,KAAK;SAAC,KAAyB,EAAE;IAE1G,MAAM,cAAc,OAAO,KAAK,CAAC,IAAuB,EAAE,GAAG,KAAK;IAElE,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,8OAAC;wBACC,SAAS,IAAM,cAAc;wBAC7B,WAAU;kCACX;;;;;;;;;;;;0BAMH,8OAAC;gBAAI,WAAU;0BACZ,AACC;oBAAC;oBAAO;oBAAS;oBAAU;oBAAY;iBAAoB,CAC3D,GAAG,CAAC,CAAC,uBACL,8OAAC;wBAEC,SAAS,IAAM,UAAU;wBACzB,WAAW,CAAC,wEAAwE,EAClF,WAAW,SACP,2DACA,kFACJ;kCAED,OAAO,OAAO,CAAC,KAAK;uBARhB;;;;;;;;;;YAcV,CAAC,sBACA,8OAAC;gBAAI,WAAU;0BACZ;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,8OAAC;wBAEC,WAAU;uBADL;;;;;;;;;uBAKT,cAAc,MAAM,KAAK,kBAC3B,8OAAC,qJAAU;gBACT,oBAAM,8OAAC;oBAAK,WAAU;8BAAW;;;;;;gBACjC,OAAM;gBACN,aAAY;gBACZ,aAAY;gBACZ,UAAU,IAAM,cAAc;;;;;qCAGhC,8OAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,qBAClB,8OAAC,kJAAQ;wBAEP,MAAM;wBACN,WAAW,QAAQ,GAAG,CAAC,KAAK,MAAM;wBAClC,SAAS,IAAM,cAAc,KAAK,GAAG;uBAHhC,KAAK,GAAG;;;;;;;;;;0BAUrB,8OAAC,gJAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,cAAc;gBAC7B,OAAM;gBACN,MAAK;0BAEL,cAAA,8OAAC,kJAAQ;oBAAC,SAAS,IAAM,cAAc;;;;;;;;;;;0BAIzC,8OAAC,gJAAK;gBACJ,QAAQ,eAAe;gBACvB,SAAS,IAAM,cAAc;gBAC7B,OAAM;gBACN,MAAK;0BAEJ,4BACC,8OAAC,oJAAU;oBACT,QAAQ;oBACR,SAAS,IAAM,cAAc;oBAC7B,QAAQ;wBACN,aAAa;wBACb,cAAc;oBAChB;;;;;;;;;;;0BAMN,8OAAC,gJAAK;gBACJ,QAAQ,cAAc;gBACtB,SAAS,IAAM,aAAa;gBAC5B,OAAM;gBACN,MAAK;0BAEJ,aAAa,6BACZ,8OAAC,kJAAQ;oBACP,MAAM;oBACN,SAAS,IAAM,aAAa;;;;;;;;;;;;;;;;;AAMxC"}}]
}