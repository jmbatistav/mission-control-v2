{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":";;;;;;;;AAAA,kBAAkB,GAClB;;;;;;;CAOC,GAED;AAAA;AAAA;;AAUO,MAAM,MAAM,gKAAM;AAClB,MAAM,WAAW,gKAAM;AACvB,MAAM,aAAa,IAAA,2MAAiB"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/PriorityIndicator.tsx"],"sourcesContent":["\"use client\";\n\nconst priorityConfig: Record<string, { color: string; label: string }> = {\n  low: { color: \"bg-gray-500\", label: \"Low\" },\n  medium: { color: \"bg-blue-500\", label: \"Medium\" },\n  high: { color: \"bg-orange-500\", label: \"High\" },\n  urgent: { color: \"bg-red-500\", label: \"Urgent\" },\n};\n\nexport default function PriorityIndicator({\n  priority,\n  showLabel = true,\n}: {\n  priority: string;\n  showLabel?: boolean;\n}) {\n  const config = priorityConfig[priority] || priorityConfig.low;\n  return (\n    <div className=\"inline-flex items-center gap-1.5\">\n      <span className={`w-2 h-2 rounded-full ${config.color}`} />\n      {showLabel && (\n        <span className=\"text-xs text-gray-400\">{config.label}</span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,iBAAmE;IACvE,KAAK;QAAE,OAAO;QAAe,OAAO;IAAM;IAC1C,QAAQ;QAAE,OAAO;QAAe,OAAO;IAAS;IAChD,MAAM;QAAE,OAAO;QAAiB,OAAO;IAAO;IAC9C,QAAQ;QAAE,OAAO;QAAc,OAAO;IAAS;AACjD;AAEe,SAAS,kBAAkB,EACxC,QAAQ,EACR,YAAY,IAAI,EAIjB;IACC,MAAM,SAAS,cAAc,CAAC,SAAS,IAAI,eAAe,GAAG;IAC7D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAW,CAAC,qBAAqB,EAAE,OAAO,KAAK,EAAE;;;;;;YACtD,2BACC,8OAAC;gBAAK,WAAU;0BAAyB,OAAO,KAAK;;;;;;;;;;;;AAI7D"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/tasks/TaskCard.tsx"],"sourcesContent":["\"use client\";\n\nimport PriorityIndicator from \"../shared/PriorityIndicator\";\nimport AssigneeAvatar from \"../shared/AssigneeAvatar\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { useActiveUser } from \"@/lib/useActiveUser\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\nconst STATUS_ORDER = [\"backlog\", \"in_progress\", \"testing\", \"done\", \"deployed\"] as const;\ntype TaskStatus = (typeof STATUS_ORDER)[number];\n\ninterface Task {\n  _id: Id<\"tasks\">;\n  title: string;\n  description?: string;\n  status: TaskStatus;\n  assignee: string;\n  priority: string;\n  labels?: string[];\n}\n\nexport default function TaskCard({\n  task,\n  onClick,\n}: {\n  task: Task;\n  onClick: () => void;\n}) {\n  const updateStatus = useMutation(api.tasks.updateStatus);\n  const [activeUser] = useActiveUser();\n\n  const currentIndex = STATUS_ORDER.indexOf(task.status);\n  const canMoveLeft = currentIndex > 0;\n  const canMoveRight = currentIndex < STATUS_ORDER.length - 1;\n\n  function moveLeft(e: React.MouseEvent) {\n    e.stopPropagation();\n    if (canMoveLeft) {\n      updateStatus({\n        id: task._id,\n        status: STATUS_ORDER[currentIndex - 1],\n        actor: activeUser,\n      });\n    }\n  }\n\n  function moveRight(e: React.MouseEvent) {\n    e.stopPropagation();\n    if (canMoveRight) {\n      updateStatus({\n        id: task._id,\n        status: STATUS_ORDER[currentIndex + 1],\n        actor: activeUser,\n      });\n    }\n  }\n\n  return (\n    <div\n      onClick={onClick}\n      className=\"bg-gray-900 border border-gray-800 rounded-xl p-3 cursor-pointer hover:border-gray-700 hover:scale-[1.02] transition-all duration-200 group\"\n    >\n      <div className=\"flex items-start justify-between mb-2\">\n        <h4 className=\"text-sm font-medium text-gray-100 line-clamp-2 flex-1\">\n          {task.title}\n        </h4>\n        <PriorityIndicator priority={task.priority} showLabel={false} />\n      </div>\n\n      {task.labels && task.labels.length > 0 && (\n        <div className=\"flex flex-wrap gap-1 mb-2\">\n          {task.labels.map((label) => (\n            <span\n              key={label}\n              className=\"px-1.5 py-0.5 bg-gray-800 text-gray-500 text-[10px] rounded\"\n            >\n              {label}\n            </span>\n          ))}\n        </div>\n      )}\n\n      <div className=\"flex items-center justify-between\">\n        <AssigneeAvatar name={task.assignee} size=\"sm\" />\n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n          {canMoveLeft && (\n            <button\n              onClick={moveLeft}\n              className=\"p-1 text-gray-500 hover:text-gray-300 hover:bg-gray-800 rounded transition-colors\"\n              title=\"Move left\"\n            >\n              <svg\n                className=\"w-3.5 h-3.5\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M15 19l-7-7 7-7\"\n                />\n              </svg>\n            </button>\n          )}\n          {canMoveRight && (\n            <button\n              onClick={moveRight}\n              className=\"p-1 text-gray-500 hover:text-gray-300 hover:bg-gray-800 rounded transition-colors\"\n              title=\"Move right\"\n            >\n              <svg\n                className=\"w-3.5 h-3.5\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 5l7 7-7 7\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;AASA,MAAM,eAAe;IAAC;IAAW;IAAe;IAAW;IAAQ;CAAW;AAa/D,SAAS,SAAS,EAC/B,IAAI,EACJ,OAAO,EAIR;IACC,MAAM,eAAe,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,YAAY;IACvD,MAAM,CAAC,WAAW,GAAG,IAAA,4IAAa;IAElC,MAAM,eAAe,aAAa,OAAO,CAAC,KAAK,MAAM;IACrD,MAAM,cAAc,eAAe;IACnC,MAAM,eAAe,eAAe,aAAa,MAAM,GAAG;IAE1D,SAAS,SAAS,CAAmB;QACnC,EAAE,eAAe;QACjB,IAAI,aAAa;YACf,aAAa;gBACX,IAAI,KAAK,GAAG;gBACZ,QAAQ,YAAY,CAAC,eAAe,EAAE;gBACtC,OAAO;YACT;QACF;IACF;IAEA,SAAS,UAAU,CAAmB;QACpC,EAAE,eAAe;QACjB,IAAI,cAAc;YAChB,aAAa;gBACX,IAAI,KAAK,GAAG;gBACZ,QAAQ,YAAY,CAAC,eAAe,EAAE;gBACtC,OAAO;YACT;QACF;IACF;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX,KAAK,KAAK;;;;;;kCAEb,8OAAC,4JAAiB;wBAAC,UAAU,KAAK,QAAQ;wBAAE,WAAW;;;;;;;;;;;;YAGxD,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,MAAM,GAAG,mBACnC,8OAAC;gBAAI,WAAU;0BACZ,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,sBAChB,8OAAC;wBAEC,WAAU;kCAET;uBAHI;;;;;;;;;;0BASb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yJAAc;wBAAC,MAAM,KAAK,QAAQ;wBAAE,MAAK;;;;;;kCAC1C,8OAAC;wBAAI,WAAU;;4BACZ,6BACC,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,OAAM;0CAEN,cAAA,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;4BAKT,8BACC,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,OAAM;0CAEN,cAAA,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASpB"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/tasks/TaskColumn.tsx"],"sourcesContent":["\"use client\";\n\nimport TaskCard from \"./TaskCard\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\nconst statusConfig: Record<string, { label: string; color: string }> = {\n  backlog: { label: \"Backlog\", color: \"bg-gray-500\" },\n  in_progress: { label: \"In Progress\", color: \"bg-blue-500\" },\n  testing: { label: \"Testing\", color: \"bg-amber-500\" },\n  done: { label: \"Done\", color: \"bg-emerald-500\" },\n  deployed: { label: \"Deployed\", color: \"bg-purple-500\" },\n};\n\ninterface Task {\n  _id: Id<\"tasks\">;\n  title: string;\n  description?: string;\n  status: \"backlog\" | \"in_progress\" | \"testing\" | \"done\" | \"deployed\";\n  assignee: string;\n  priority: string;\n  labels?: string[];\n}\n\nexport default function TaskColumn({\n  status,\n  tasks,\n  onTaskClick,\n}: {\n  status: string;\n  tasks: Task[];\n  onTaskClick: (id: Id<\"tasks\">) => void;\n}) {\n  const config = statusConfig[status] || {\n    label: status,\n    color: \"bg-gray-500\",\n  };\n\n  return (\n    <div className=\"flex flex-col min-w-[260px] max-w-[300px] flex-1\">\n      <div className=\"flex items-center gap-2 mb-3 px-1\">\n        <span className={`w-2 h-2 rounded-full ${config.color}`} />\n        <h3 className=\"text-sm font-semibold text-gray-300\">{config.label}</h3>\n        <span className=\"text-xs text-gray-600 ml-auto\">{tasks.length}</span>\n      </div>\n      <div className=\"space-y-2 flex-1\">\n        {tasks.map((task) => (\n          <TaskCard\n            key={task._id}\n            task={task}\n            onClick={() => onTaskClick(task._id)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKA,MAAM,eAAiE;IACrE,SAAS;QAAE,OAAO;QAAW,OAAO;IAAc;IAClD,aAAa;QAAE,OAAO;QAAe,OAAO;IAAc;IAC1D,SAAS;QAAE,OAAO;QAAW,OAAO;IAAe;IACnD,MAAM;QAAE,OAAO;QAAQ,OAAO;IAAiB;IAC/C,UAAU;QAAE,OAAO;QAAY,OAAO;IAAgB;AACxD;AAYe,SAAS,WAAW,EACjC,MAAM,EACN,KAAK,EACL,WAAW,EAKZ;IACC,MAAM,SAAS,YAAY,CAAC,OAAO,IAAI;QACrC,OAAO;QACP,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAW,CAAC,qBAAqB,EAAE,OAAO,KAAK,EAAE;;;;;;kCACvD,8OAAC;wBAAG,WAAU;kCAAuC,OAAO,KAAK;;;;;;kCACjE,8OAAC;wBAAK,WAAU;kCAAiC,MAAM,MAAM;;;;;;;;;;;;0BAE/D,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,kJAAQ;wBAEP,MAAM;wBACN,SAAS,IAAM,YAAY,KAAK,GAAG;uBAF9B,KAAK,GAAG;;;;;;;;;;;;;;;;AAQzB"}},
    {"offset": {"line": 373, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/tasks/TaskBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport TaskColumn from \"./TaskColumn\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\nconst COLUMNS = [\n  \"backlog\",\n  \"in_progress\",\n  \"testing\",\n  \"done\",\n  \"deployed\",\n] as const;\n\nexport default function TaskBoard({\n  onTaskClick,\n}: {\n  onTaskClick: (id: Id<\"tasks\">) => void;\n}) {\n  const tasks = useQuery(api.tasks.list);\n\n  if (!tasks) {\n    return (\n      <div className=\"flex gap-4 overflow-x-auto pb-4\">\n        {COLUMNS.map((col) => (\n          <div\n            key={col}\n            className=\"min-w-[260px] max-w-[300px] flex-1 h-64 bg-gray-900/30 rounded-xl animate-pulse\"\n          />\n        ))}\n      </div>\n    );\n  }\n\n  const grouped = COLUMNS.reduce(\n    (acc, status) => {\n      acc[status] = tasks.filter((t: any) => t.status === status);\n      return acc;\n    },\n    {} as Record<string, typeof tasks>\n  );\n\n  return (\n    <div className=\"flex gap-4 overflow-x-auto pb-4\">\n      {COLUMNS.map((status) => (\n        <TaskColumn\n          key={status}\n          status={status}\n          tasks={grouped[status] || []}\n          onTaskClick={onTaskClick}\n        />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAOA,MAAM,UAAU;IACd;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS,UAAU,EAChC,WAAW,EAGZ;IACC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IAErC,IAAI,CAAC,OAAO;QACV,qBACE,8OAAC;YAAI,WAAU;sBACZ,QAAQ,GAAG,CAAC,CAAC,oBACZ,8OAAC;oBAEC,WAAU;mBADL;;;;;;;;;;IAMf;IAEA,MAAM,UAAU,QAAQ,MAAM,CAC5B,CAAC,KAAK;QACJ,GAAG,CAAC,OAAO,GAAG,MAAM,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK;QACpD,OAAO;IACT,GACA,CAAC;IAGH,qBACE,8OAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC,oJAAU;gBAET,QAAQ;gBACR,OAAO,OAAO,CAAC,OAAO,IAAI,EAAE;gBAC5B,aAAa;eAHR;;;;;;;;;;AAQf"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/tasks/TaskForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { useActiveUser } from \"@/lib/useActiveUser\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\ninterface TaskFormProps {\n  task?: {\n    _id: Id<\"tasks\">;\n    title: string;\n    description?: string;\n    assignee: \"Kar\" | \"Joma\";\n    priority: \"low\" | \"medium\" | \"high\" | \"urgent\";\n    labels?: string[];\n    specId?: Id<\"specs\">;\n    ideaId?: Id<\"ideas\">;\n  };\n  onClose: () => void;\n}\n\nexport default function TaskForm({ task, onClose }: TaskFormProps) {\n  const [activeUser] = useActiveUser();\n  const specs = useQuery(api.specs.list);\n  const ideas = useQuery(api.ideas.list);\n\n  const [title, setTitle] = useState(task?.title ?? \"\");\n  const [description, setDescription] = useState(task?.description ?? \"\");\n  const [assignee, setAssignee] = useState<\"Kar\" | \"Joma\">(\n    task?.assignee ?? activeUser\n  );\n  const [priority, setPriority] = useState<\"low\" | \"medium\" | \"high\" | \"urgent\">(\n    task?.priority ?? \"medium\"\n  );\n  const [labelsInput, setLabelsInput] = useState(\n    task?.labels?.join(\", \") ?? \"\"\n  );\n  const [specId, setSpecId] = useState<string>(task?.specId ?? \"\");\n  const [ideaId, setIdeaId] = useState<string>(task?.ideaId ?? \"\");\n  const [submitting, setSubmitting] = useState(false);\n\n  const createTask = useMutation(api.tasks.create);\n  const updateTask = useMutation(api.tasks.update);\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setSubmitting(true);\n    const labels = labelsInput\n      .split(\",\")\n      .map((l) => l.trim())\n      .filter(Boolean);\n\n    try {\n      if (task) {\n        await updateTask({\n          id: task._id,\n          title,\n          description: description || undefined,\n          assignee,\n          priority,\n          labels,\n          actor: activeUser,\n        });\n      } else {\n        await createTask({\n          title,\n          description: description || undefined,\n          assignee,\n          priority,\n          labels,\n          specId: specId ? (specId as Id<\"specs\">) : undefined,\n          ideaId: ideaId ? (ideaId as Id<\"ideas\">) : undefined,\n          actor: activeUser,\n        });\n      }\n      onClose();\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setSubmitting(false);\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Title\n        </label>\n        <input\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors\"\n          placeholder=\"Task title\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Description\n        </label>\n        <textarea\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          rows={3}\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors resize-none\"\n          placeholder=\"Optional description...\"\n        />\n      </div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n            Assignee\n          </label>\n          <select\n            value={assignee}\n            onChange={(e) => setAssignee(e.target.value as \"Kar\" | \"Joma\")}\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500\"\n          >\n            <option value=\"Kar\">Kar</option>\n            <option value=\"Joma\">Joma</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n            Priority\n          </label>\n          <select\n            value={priority}\n            onChange={(e) =>\n              setPriority(\n                e.target.value as \"low\" | \"medium\" | \"high\" | \"urgent\"\n              )\n            }\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500\"\n          >\n            <option value=\"low\">Low</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"high\">High</option>\n            <option value=\"urgent\">Urgent</option>\n          </select>\n        </div>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n          Labels\n        </label>\n        <input\n          value={labelsInput}\n          onChange={(e) => setLabelsInput(e.target.value)}\n          className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors\"\n          placeholder=\"bug, feature, ui (comma separated)\"\n        />\n      </div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n            Linked Spec\n          </label>\n          <select\n            value={specId}\n            onChange={(e) => setSpecId(e.target.value)}\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500\"\n          >\n            <option value=\"\">None</option>\n            {specs?.map((s: any) => (\n              <option key={s._id} value={s._id}>\n                {s.title}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-1\">\n            Linked Idea\n          </label>\n          <select\n            value={ideaId}\n            onChange={(e) => setIdeaId(e.target.value)}\n            className=\"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-sm text-gray-100 focus:outline-none focus:border-blue-500\"\n          >\n            <option value=\"\">None</option>\n            {ideas?.map((i: any) => (\n              <option key={i._id} value={i._id}>\n                {i.title}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n      <div className=\"flex justify-end gap-3 pt-2\">\n        <button\n          type=\"button\"\n          onClick={onClose}\n          className=\"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          disabled={submitting}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white text-sm font-medium rounded-lg transition-colors\"\n        >\n          {submitting ? \"Saving...\" : task ? \"Update\" : \"Create Task\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAsBe,SAAS,SAAS,EAAE,IAAI,EAAE,OAAO,EAAiB;IAC/D,MAAM,CAAC,WAAW,GAAG,IAAA,4IAAa;IAClC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IACrC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,IAAI;IAErC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,MAAM,SAAS;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,MAAM,eAAe;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EACtC,MAAM,YAAY;IAEpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EACtC,MAAM,YAAY;IAEpB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAC5C,MAAM,QAAQ,KAAK,SAAS;IAE9B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAS,MAAM,UAAU;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAS,MAAM,UAAU;IAC7D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAC/C,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAE/C,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,cAAc;QACd,MAAM,SAAS,YACZ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,MAAM,CAAC;QAEV,IAAI;YACF,IAAI,MAAM;gBACR,MAAM,WAAW;oBACf,IAAI,KAAK,GAAG;oBACZ;oBACA,aAAa,eAAe;oBAC5B;oBACA;oBACA;oBACA,OAAO;gBACT;YACF,OAAO;gBACL,MAAM,WAAW;oBACf;oBACA,aAAa,eAAe;oBAC5B;oBACA;oBACA;oBACA,QAAQ,SAAU,SAAyB;oBAC3C,QAAQ,SAAU,SAAyB;oBAC3C,OAAO;gBACT;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,MAAM;wBACN,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;;;;;;;;;;;;;kCAGzB,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IACT,YACE,EAAE,MAAM,CAAC,KAAK;gCAGlB,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,8OAAC;wCAAO,OAAM;kDAAS;;;;;;kDACvB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,8OAAC;wCAAO,OAAM;kDAAS;;;;;;;;;;;;;;;;;;;;;;;;0BAI7B,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;wBACV,aAAY;;;;;;;;;;;;0BAGhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,OAAO,IAAI,CAAC,kBACX,8OAAC;4CAAmB,OAAO,EAAE,GAAG;sDAC7B,EAAE,KAAK;2CADG,EAAE,GAAG;;;;;;;;;;;;;;;;;kCAMxB,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gCACzC,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAG;;;;;;oCAChB,OAAO,IAAI,CAAC,kBACX,8OAAC;4CAAmB,OAAO,EAAE,GAAG;sDAC7B,EAAE,KAAK;2CADG,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;0BAO1B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,aAAa,cAAc,OAAO,WAAW;;;;;;;;;;;;;;;;;;AAKxD"}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useCallback } from \"react\";\n\nexport default function Modal({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"md\",\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n}) {\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") onClose();\n    },\n    [onClose]\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, handleKeyDown]);\n\n  if (!isOpen) return null;\n\n  const sizeClasses = {\n    sm: \"max-w-md\",\n    md: \"max-w-lg\",\n    lg: \"max-w-2xl\",\n    xl: \"max-w-4xl\",\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      <div\n        className={`relative ${sizeClasses[size]} w-full mx-4 bg-gray-900 border border-gray-800 rounded-xl shadow-2xl max-h-[85vh] flex flex-col`}\n      >\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-800\">\n          <h2 className=\"text-lg font-semibold text-gray-100\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-200 transition-colors p-1\"\n          >\n            <svg\n              className=\"w-5 h-5\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n        <div className=\"px-6 py-4 overflow-y-auto\">{children}</div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,MAAM,EAC5B,MAAM,EACN,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,IAAI,EAOZ;IACC,MAAM,gBAAgB,IAAA,oNAAW,EAC/B,CAAC;QACC,IAAI,EAAE,GAAG,KAAK,UAAU;IAC1B,GACA;QAAC;KAAQ;IAGX,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;QAAQ;KAAc;IAE1B,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAEX,8OAAC;gBACC,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC,gGAAgG,CAAC;;kCAE1I,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;0CACrD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,8OAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAKV,8OAAC;wBAAI,WAAU;kCAA6B;;;;;;;;;;;;;;;;;;AAIpD"}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/StatusBadge.tsx"],"sourcesContent":["\"use client\";\n\nconst statusColors: Record<string, string> = {\n  // Ideas\n  draft: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\n  approved: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n  rejected: \"bg-red-500/20 text-red-400 border-red-500/30\",\n  implemented: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\",\n  // Specs\n  review: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n  changes_requested: \"bg-red-500/20 text-red-400 border-red-500/30\",\n  // Tasks\n  backlog: \"bg-gray-500/20 text-gray-400 border-gray-500/30\",\n  in_progress: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n  testing: \"bg-amber-500/20 text-amber-400 border-amber-500/30\",\n  done: \"bg-emerald-500/20 text-emerald-400 border-emerald-500/30\",\n  deployed: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n};\n\nconst statusLabels: Record<string, string> = {\n  draft: \"Draft\",\n  approved: \"Approved\",\n  rejected: \"Rejected\",\n  implemented: \"Implemented\",\n  review: \"Review\",\n  changes_requested: \"Changes Requested\",\n  backlog: \"Backlog\",\n  in_progress: \"In Progress\",\n  testing: \"Testing\",\n  done: \"Done\",\n  deployed: \"Deployed\",\n};\n\nexport default function StatusBadge({ status }: { status: string }) {\n  const colors = statusColors[status] || \"bg-gray-500/20 text-gray-400 border-gray-500/30\";\n  const label = statusLabels[status] || status;\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${colors}`}\n    >\n      {label}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,eAAuC;IAC3C,QAAQ;IACR,OAAO;IACP,UAAU;IACV,UAAU;IACV,aAAa;IACb,QAAQ;IACR,QAAQ;IACR,mBAAmB;IACnB,QAAQ;IACR,SAAS;IACT,aAAa;IACb,SAAS;IACT,MAAM;IACN,UAAU;AACZ;AAEA,MAAM,eAAuC;IAC3C,OAAO;IACP,UAAU;IACV,UAAU;IACV,aAAa;IACb,QAAQ;IACR,mBAAmB;IACnB,SAAS;IACT,aAAa;IACb,SAAS;IACT,MAAM;IACN,UAAU;AACZ;AAEe,SAAS,YAAY,EAAE,MAAM,EAAsB;IAChE,MAAM,SAAS,YAAY,CAAC,OAAO,IAAI;IACvC,MAAM,QAAQ,YAAY,CAAC,OAAO,IAAI;IACtC,qBACE,8OAAC;QACC,WAAW,CAAC,+EAA+E,EAAE,QAAQ;kBAEpG;;;;;;AAGP"}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/ActivityFeed.tsx"],"sourcesContent":["\"use client\";\n\nimport AssigneeAvatar from \"./AssigneeAvatar\";\n\ninterface ActivityEntry {\n  _id: string;\n  entityType: string;\n  entityId: string;\n  action: string;\n  details?: string;\n  actor: string;\n  createdAt: number;\n}\n\nfunction timeAgo(timestamp: number): string {\n  const seconds = Math.floor((Date.now() - timestamp) / 1000);\n  if (seconds < 60) return \"just now\";\n  const minutes = Math.floor(seconds / 60);\n  if (minutes < 60) return `${minutes}m ago`;\n  const hours = Math.floor(minutes / 60);\n  if (hours < 24) return `${hours}h ago`;\n  const days = Math.floor(hours / 24);\n  return `${days}d ago`;\n}\n\nconst actionIcons: Record<string, string> = {\n  created: \"‚ú®\",\n  updated: \"‚úèÔ∏è\",\n  status_changed: \"üîÑ\",\n  deleted: \"üóëÔ∏è\",\n  assigned: \"üë§\",\n};\n\nexport default function ActivityFeed({\n  activities,\n}: {\n  activities: ActivityEntry[];\n}) {\n  if (activities.length === 0) {\n    return (\n      <p className=\"text-sm text-gray-500 py-4 text-center\">\n        No activity yet\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {activities.map((entry) => (\n        <div key={entry._id} className=\"flex items-start gap-3\">\n          <AssigneeAvatar name={entry.actor} size=\"sm\" />\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs\">\n                {actionIcons[entry.action] || \"üìå\"}\n              </span>\n              <span className=\"text-sm text-gray-300 font-medium\">\n                {entry.actor}\n              </span>\n              <span className=\"text-xs text-gray-500\">\n                {timeAgo(entry.createdAt)}\n              </span>\n            </div>\n            {entry.details && (\n              <p className=\"text-xs text-gray-400 mt-0.5 truncate\">\n                {entry.details}\n              </p>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAcA,SAAS,QAAQ,SAAiB;IAChC,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,KAAK,GAAG,KAAK,SAAS,IAAI;IACtD,IAAI,UAAU,IAAI,OAAO;IACzB,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;IACrC,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,KAAK,CAAC;IAC1C,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,IAAI,QAAQ,IAAI,OAAO,GAAG,MAAM,KAAK,CAAC;IACtC,MAAM,OAAO,KAAK,KAAK,CAAC,QAAQ;IAChC,OAAO,GAAG,KAAK,KAAK,CAAC;AACvB;AAEA,MAAM,cAAsC;IAC1C,SAAS;IACT,SAAS;IACT,gBAAgB;IAChB,SAAS;IACT,UAAU;AACZ;AAEe,SAAS,aAAa,EACnC,UAAU,EAGX;IACC,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,qBACE,8OAAC;YAAE,WAAU;sBAAyC;;;;;;IAI1D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,WAAW,GAAG,CAAC,CAAC,sBACf,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC,yJAAc;wBAAC,MAAM,MAAM,KAAK;wBAAE,MAAK;;;;;;kCACxC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,WAAW,CAAC,MAAM,MAAM,CAAC,IAAI;;;;;;kDAEhC,8OAAC;wCAAK,WAAU;kDACb,MAAM,KAAK;;;;;;kDAEd,8OAAC;wCAAK,WAAU;kDACb,QAAQ,MAAM,SAAS;;;;;;;;;;;;4BAG3B,MAAM,OAAO,kBACZ,8OAAC;gCAAE,WAAU;0CACV,MAAM,OAAO;;;;;;;;;;;;;eAhBZ,MAAM,GAAG;;;;;;;;;;AAwB3B"}},
    {"offset": {"line": 1118, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/FileUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\n\nexport default function FileUpload({\n  entityType,\n  entityId,\n  uploadedBy,\n  onUploaded,\n}: {\n  entityType: \"idea\" | \"spec\" | \"task\";\n  entityId: string;\n  uploadedBy: \"Kar\" | \"Joma\";\n  onUploaded?: () => void;\n}) {\n  const [uploading, setUploading] = useState(false);\n  const fileRef = useRef<HTMLInputElement>(null);\n  const generateUploadUrl = useMutation(api.files.generateUploadUrl);\n  const saveFile = useMutation(api.files.saveFile);\n\n  async function handleUpload(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setUploading(true);\n    try {\n      const uploadUrl = await generateUploadUrl();\n      const result = await fetch(uploadUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": file.type },\n        body: file,\n      });\n      const { storageId } = await result.json();\n      await saveFile({\n        entityType,\n        entityId,\n        name: file.name,\n        storageId,\n        contentType: file.type,\n        size: file.size,\n        uploadedBy,\n      });\n      onUploaded?.();\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n    } finally {\n      setUploading(false);\n      if (fileRef.current) fileRef.current.value = \"\";\n    }\n  }\n\n  return (\n    <div>\n      <input\n        ref={fileRef}\n        type=\"file\"\n        onChange={handleUpload}\n        className=\"hidden\"\n        id={`file-upload-${entityId}`}\n      />\n      <label\n        htmlFor={`file-upload-${entityId}`}\n        className={`inline-flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-lg border border-gray-700 text-gray-400 hover:text-gray-200 hover:border-gray-600 cursor-pointer transition-colors ${\n          uploading ? \"opacity-50 cursor-wait\" : \"\"\n        }`}\n      >\n        <svg\n          className=\"w-4 h-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n        {uploading ? \"Uploading...\" : \"Attach File\"}\n      </label>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMe,SAAS,WAAW,EACjC,UAAU,EACV,QAAQ,EACR,UAAU,EACV,UAAU,EAMX;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,UAAU,IAAA,+MAAM,EAAmB;IACzC,MAAM,oBAAoB,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,iBAAiB;IACjE,MAAM,WAAW,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,QAAQ;IAE/C,eAAe,aAAa,CAAsC;QAChE,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,aAAa;QACb,IAAI;YACF,MAAM,YAAY,MAAM;YACxB,MAAM,SAAS,MAAM,MAAM,WAAW;gBACpC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB,KAAK,IAAI;gBAAC;gBACrC,MAAM;YACR;YACA,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,OAAO,IAAI;YACvC,MAAM,SAAS;gBACb;gBACA;gBACA,MAAM,KAAK,IAAI;gBACf;gBACA,aAAa,KAAK,IAAI;gBACtB,MAAM,KAAK,IAAI;gBACf;YACF;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC,SAAU;YACR,aAAa;YACb,IAAI,QAAQ,OAAO,EAAE,QAAQ,OAAO,CAAC,KAAK,GAAG;QAC/C;IACF;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBACC,KAAK;gBACL,MAAK;gBACL,UAAU;gBACV,WAAU;gBACV,IAAI,CAAC,YAAY,EAAE,UAAU;;;;;;0BAE/B,8OAAC;gBACC,SAAS,CAAC,YAAY,EAAE,UAAU;gBAClC,WAAW,CAAC,0LAA0L,EACpM,YAAY,2BAA2B,IACvC;;kCAEF,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,SAAQ;wBACR,QAAO;kCAEP,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;oBAGL,YAAY,iBAAiB;;;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 1223, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/components/shared/FileList.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\n\ninterface FileEntry {\n  _id: Id<\"files\">;\n  name: string;\n  storageId: Id<\"_storage\">;\n  contentType: string;\n  size: number;\n  uploadedBy: string;\n  createdAt: number;\n}\n\nfunction formatSize(bytes: number): string {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n}\n\nfunction FileItem({ file }: { file: FileEntry }) {\n  const url = useQuery(api.files.getUrl, { storageId: file.storageId });\n  const removeFile = useMutation(api.files.remove);\n\n  return (\n    <div className=\"flex items-center gap-3 p-2 rounded-lg bg-gray-800/50 group\">\n      <div className=\"w-8 h-8 rounded bg-gray-700 flex items-center justify-center text-xs text-gray-400\">\n        üìÑ\n      </div>\n      <div className=\"flex-1 min-w-0\">\n        {url ? (\n          <a\n            href={url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-sm text-blue-400 hover:text-blue-300 truncate block\"\n          >\n            {file.name}\n          </a>\n        ) : (\n          <span className=\"text-sm text-gray-300 truncate block\">\n            {file.name}\n          </span>\n        )}\n        <span className=\"text-xs text-gray-500\">{formatSize(file.size)}</span>\n      </div>\n      <button\n        onClick={() => removeFile({ id: file._id })}\n        className=\"opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400 transition-all p-1\"\n      >\n        <svg\n          className=\"w-4 h-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n}\n\nexport default function FileList({\n  entityType,\n  entityId,\n}: {\n  entityType: \"idea\" | \"spec\" | \"task\";\n  entityId: string;\n}) {\n  const files = useQuery(api.files.listByEntity, { entityType, entityId });\n\n  if (!files || files.length === 0) return null;\n\n  return (\n    <div className=\"space-y-2\">\n      <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">\n        Files\n      </h4>\n      {files.map((file: any) => (\n        <FileItem key={file._id} file={file as FileEntry} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAgBA,SAAS,WAAW,KAAa;IAC/B,IAAI,QAAQ,MAAM,OAAO,GAAG,MAAM,EAAE,CAAC;IACrC,IAAI,QAAQ,OAAO,MAAM,OAAO,GAAG,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;IACjE,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,GAAG,GAAG,CAAC;AACnD;AAEA,SAAS,SAAS,EAAE,IAAI,EAAuB;IAC7C,MAAM,MAAM,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM,EAAE;QAAE,WAAW,KAAK,SAAS;IAAC;IACnE,MAAM,aAAa,IAAA,uKAAW,EAAC,kIAAG,CAAC,KAAK,CAAC,MAAM;IAE/C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAAqF;;;;;;0BAGpG,8OAAC;gBAAI,WAAU;;oBACZ,oBACC,8OAAC;wBACC,MAAM;wBACN,QAAO;wBACP,KAAI;wBACJ,WAAU;kCAET,KAAK,IAAI;;;;;6CAGZ,8OAAC;wBAAK,WAAU;kCACb,KAAK,IAAI;;;;;;kCAGd,8OAAC;wBAAK,WAAU;kCAAyB,WAAW,KAAK,IAAI;;;;;;;;;;;;0BAE/D,8OAAC;gBACC,SAAS,IAAM,WAAW;wBAAE,IAAI,KAAK,GAAG;oBAAC;gBACzC,WAAU;0BAEV,cAAA,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,SAAQ;oBACR,QAAO;8BAEP,cAAA,8OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;;;;;;;AAMd;AAEe,SAAS,SAAS,EAC/B,UAAU,EACV,QAAQ,EAIT;IACC,MAAM,QAAQ,IAAA,oKAAQ,EAAC,kIAAG,CAAC,KAAK,CAAC,YAAY,EAAE;QAAE;QAAY;IAAS;IAEtE,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG,OAAO;IAEzC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6D;;;;;;YAG1E,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;oBAAwB,MAAM;mBAAhB,KAAK,GAAG;;;;;;;;;;;AAI/B"}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///Users/pipo/mission-control-v2/src/app/tasks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport type { Id } from \"../../../convex/_generated/dataModel\";\nimport TaskBoard from \"@/components/tasks/TaskBoard\";\nimport TaskForm from \"@/components/tasks/TaskForm\";\nimport Modal from \"@/components/shared/Modal\";\nimport StatusBadge from \"@/components/shared/StatusBadge\";\nimport PriorityIndicator from \"@/components/shared/PriorityIndicator\";\nimport AssigneeAvatar from \"@/components/shared/AssigneeAvatar\";\nimport ActivityFeed from \"@/components/shared/ActivityFeed\";\nimport FileUpload from \"@/components/shared/FileUpload\";\nimport FileList from \"@/components/shared/FileList\";\nimport { useActiveUser } from \"@/lib/useActiveUser\";\n\nconst TASK_STATUSES = [\n  \"backlog\",\n  \"in_progress\",\n  \"testing\",\n  \"done\",\n  \"deployed\",\n] as const;\n\nexport default function TasksPage() {\n  const [showCreate, setShowCreate] = useState(false);\n  const [selectedId, setSelectedId] = useState<Id<\"tasks\"> | null>(null);\n  const [editingId, setEditingId] = useState<Id<\"tasks\"> | null>(null);\n  const [activeUser] = useActiveUser();\n\n  const selectedTask = useQuery(\n    api.tasks.getById,\n    selectedId ? { id: selectedId } : \"skip\"\n  );\n  const taskActivity = useQuery(\n    api.activity.listByEntity,\n    selectedId\n      ? { entityType: \"task\" as const, entityId: selectedId }\n      : \"skip\"\n  );\n  const updateStatus = useMutation(api.tasks.updateStatus);\n  const removeTask = useMutation(api.tasks.remove);\n\n  const tasks = useQuery(api.tasks.list);\n  const editingTask = tasks?.find((t: { _id: string }) => t._id === editingId);\n\n  return (\n    <div className=\"p-6 lg:p-8 max-w-full mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-100\">‚úÖ Tasks</h1>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Kanban board ‚Äî move tasks through the pipeline\n          </p>\n        </div>\n        <button\n          onClick={() => setShowCreate(true)}\n          className=\"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors\"\n        >\n          + New Task\n        </button>\n      </div>\n\n      {/* Board */}\n      <TaskBoard onTaskClick={(id) => setSelectedId(id)} />\n\n      {/* Create Modal */}\n      <Modal\n        isOpen={showCreate}\n        onClose={() => setShowCreate(false)}\n        title=\"New Task\"\n      >\n        <TaskForm onClose={() => setShowCreate(false)} />\n      </Modal>\n\n      {/* Detail Modal */}\n      <Modal\n        isOpen={selectedId !== null && editingId === null}\n        onClose={() => setSelectedId(null)}\n        title=\"Task Details\"\n        size=\"lg\"\n      >\n        {selectedId && selectedTask && (\n          <div className=\"space-y-6\">\n            {/* Header */}\n            <div>\n              <div className=\"flex items-start justify-between\">\n                <h2 className=\"text-xl font-bold text-gray-100\">\n                  {selectedTask.title}\n                </h2>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => {\n                      setEditingId(selectedId);\n                    }}\n                    className=\"px-3 py-1.5 text-xs font-medium text-gray-400 hover:text-gray-200 border border-gray-700 hover:border-gray-600 rounded-lg transition-colors\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={async () => {\n                      await removeTask({\n                        id: selectedId,\n                        actor: activeUser,\n                      });\n                      setSelectedId(null);\n                    }}\n                    className=\"px-3 py-1.5 text-xs font-medium text-red-400 hover:text-red-300 border border-red-900/50 hover:border-red-800 rounded-lg transition-colors\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3 mt-2\">\n                <StatusBadge status={selectedTask.status} />\n                <PriorityIndicator priority={selectedTask.priority} />\n                <AssigneeAvatar name={selectedTask.assignee} size=\"sm\" />\n                <span className=\"text-xs text-gray-500\">\n                  {selectedTask.assignee}\n                </span>\n              </div>\n            </div>\n\n            {/* Description */}\n            {selectedTask.description && (\n              <div>\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n                  Description\n                </h4>\n                <p className=\"text-sm text-gray-300 whitespace-pre-wrap\">\n                  {selectedTask.description}\n                </p>\n              </div>\n            )}\n\n            {/* Labels */}\n            {selectedTask.labels && selectedTask.labels.length > 0 && (\n              <div className=\"flex flex-wrap gap-1\">\n                {selectedTask.labels.map((label: string) => (\n                  <span\n                    key={label}\n                    className=\"px-2 py-1 bg-gray-800 text-gray-400 text-xs rounded-full\"\n                  >\n                    {label}\n                  </span>\n                ))}\n              </div>\n            )}\n\n            {/* Status Actions */}\n            <div>\n              <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n                Change Status\n              </h4>\n              <div className=\"flex flex-wrap gap-2\">\n                {TASK_STATUSES.filter(\n                  (s) => s !== selectedTask.status\n                ).map((status) => (\n                  <button\n                    key={status}\n                    onClick={() =>\n                      updateStatus({\n                        id: selectedId,\n                        status,\n                        actor: activeUser,\n                      })\n                    }\n                    className=\"px-3 py-1.5 text-xs font-medium border border-gray-700 hover:border-gray-600 rounded-lg text-gray-400 hover:text-gray-200 transition-colors capitalize\"\n                  >\n                    {status.replace(\"_\", \" \")}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Files */}\n            <FileList entityType=\"task\" entityId={selectedId} />\n            <FileUpload\n              entityType=\"task\"\n              entityId={selectedId}\n              uploadedBy={activeUser}\n            />\n\n            {/* Activity */}\n            {taskActivity && (\n              <div>\n                <h4 className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2\">\n                  Activity\n                </h4>\n                <ActivityFeed activities={taskActivity} />\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n\n      {/* Edit Modal */}\n      <Modal\n        isOpen={editingId !== null}\n        onClose={() => setEditingId(null)}\n        title=\"Edit Task\"\n      >\n        {editingId && editingTask && (\n          <TaskForm\n            task={editingTask}\n            onClose={() => setEditingId(null)}\n          />\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}